---
import Layout from "../layouts/Layout.astro";
import data from "../../OpenLinks.json";
import Avatar from "../../src/components/header.astro";
import Adult from "../../src/components/adult.astro";
import Link from "../../src/components/link.astro";
import Footer from "../../src/components/footer.astro";
import { getTheme } from "../../src/lib/getTheme.ts";

const { links, profile, title, description, url_base, footer } = data;
const themeStyles = getTheme(data.theme);
---

<Layout themeClass={themeStyles} meta={{ title, description, url_base }}>
	<Avatar slot="header" profile={profile} avatarClass={themeStyles.avatar} />
	{profile.adult && <Adult />}
	<ul class="list-none space-y-4">
		{
			links.map((link) => (
				<Link
					link={link}
					buttonClass={themeStyles.links_button}
					textClass={themeStyles.links_text}
				/>
			))
		}
	</ul>
	<Footer slot="footer" footer={footer} />
</Layout>
